<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
  <title>API</title>
  <script>
    function consomeAPI() {
      let name = document.querySelector('#name').value,
      req = new XMLHttpRequest(),
      res;
      req.open('GET', `http://www.omdbapi.com/?t=${name}&apikey=b371d4c9`, true);
      // req.open('GET', `http://www.omdbapi.com/?t=The%20Avengers&apikey=b371d4c9`, true);
      req.send()
      req.onload = () => {
        console.log('entrou')
        if((req.readyState == 4 )&& (req.status ==200)){
          res = JSON.parse(req.responseText)

          document.querySelector('#title').innerHTML = res.Title
          document.querySelector('#actors').innerHTML = res.Actors
          document.querySelector('#production').innerHTML = res.Production
          document.querySelector('#awards').innerHTML = res.Awards
          document.querySelector('#images').src = res.Poster

        } else{
          console.log(`Requisição sem resposta`)
        }
      }
    }
  </script>
</head>
<body>
  <div class="container">

    <form action="GET">
      <div class="form-group">
        <label>Nome</label>
        <input type="text" class="form-control" id="name">
      </div>
      <div class="form-group">
        <button type="button" onClick="consomeAPI()" class="btn btn-primary">Consome Api</button>
      </div>
      <div class="form-group">
        Título: <label for="" id="title"></label>
      </div>
      <div class="form-group">
        Atores: <label for="" id="actors"></label>
      </div>
      <div class="form-group">
        Produção: <label for="" id="production"></label>
      </div>
      <div class="form-group">
        Prêmios: <label for="" id="awards"></label>
      </div>
      <div class="form-group">
        <img id="images" src=""/>
      </div>
      
    </form>
  </div>
  
  
</body>
</html>